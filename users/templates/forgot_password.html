<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Forgot Password - Walkoria</title>
  <!-- Bootstrap 5 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    :root{
      --primary-color:#ff429d;
      --accent:#b08d57;
      --accent-dark:#8a6d43;
      --text-on-dark:#ffffff;
    }
    html,body{height:100%;}
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
      color: var(--text-on-dark);
      background:#000;
    }
    /* Updated to use women's shoes background */
    .bg-wrap{
      position:fixed; inset:0;
      background:url('https://images.unsplash.com/photo-1515347619252-60a4bf4fff4f?auto=format&fit=crop&w=2000&q=80') center/cover no-repeat;
    }
    .bg-overlay{
      position:absolute; inset:0;
      background:linear-gradient(180deg, rgba(0,0,0,.55), rgba(0,0,0,.6));
    }
    .page-wrap{
      position:relative; min-height:100%; display:flex; align-items:center; justify-content:center; padding:40px 16px;
    }
    .glass-card{
      width:100%;
      max-width:560px;
      background:rgba(255,255,255,0.1);
      border:1px solid rgba(255,255,255,0.25);
      border-radius:16px;
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
      padding:28px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.25);
    }
    .brand{
      display:flex; align-items:center; gap:10px; margin-bottom:12px;
    }
    /* Removed pink square logo box */
    .brand .name{
      font-weight:700; letter-spacing:.6px; font-size:22px;
    }
    h1{font-size:28px; margin:0 0 8px;}
    /* Made description text bigger to match template */
    .lead-strong{font-size:1.25rem; line-height:1.5; color:rgba(255,255,255,0.95); margin-bottom:18px;}
    label{color:#fff; font-size:.95rem;}
    .form-control{
      background:rgba(255,255,255,0.15);
      border:1px solid rgba(255,255,255,0.3);
      color:#fff;
    }
    .form-control::placeholder{color:rgba(255,255,255,0.75);}
    .form-control:focus{
      border-color:#fff; box-shadow:0 0 0 .2rem rgba(255,255,255,0.15);
      background:rgba(255,255,255,0.2);
      color:#fff;
    }
    .btn-accent{
      background:var(--accent); border-color:var(--accent);
      font-weight:600; text-transform:uppercase; letter-spacing:.5px;
    }
    .btn-accent:hover{background:var(--accent-dark); border-color:var(--accent-dark);}
    .footer-links{margin-top:14px; text-align:center;}
    .footer-links a{color:#fff; text-decoration:none; opacity:.95}
    .footer-links a:hover{text-decoration:underline;}
    .alert{font-size:.95rem;}
  </style>
</head>
<body>
  <div class="bg-wrap"><div class="bg-overlay"></div></div>

  <main class="page-wrap">
    <div class="glass-card">
      <div class="brand">
        <div class="name">Walkoria</div>
      </div>

      <h1>Forgot Password</h1>
      <p class="lead-strong">Enter your registered email. We'll send a 6â€‘digit OTP to reset your password.</p>

      {% if messages %}
        {% for message in messages %}
          <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
            {{ message }}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
          </div>
        {% endfor %}
      {% endif %}

      <form method="POST" action="">
        {% csrf_token %}
        <div class="mb-3">
          <label for="email" class="form-label">Email address</label>
          <input id="email" name="email" type="email" required class="form-control" placeholder="Enter your email">
        </div>
        <button class="btn btn-accent w-100" type="submit">Send OTP</button>
      </form>

      <div class="footer-links">
        <a href="{% url 'login' %}">Back to Login</a>
      </div>
    </div>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const storedEmail = sessionStorage.getItem('forgot_password_email');
      if (storedEmail) {
        document.getElementById('email').value = storedEmail;
        sessionStorage.removeItem('forgot_password_email');
      }
    });
  </script>
</body>
</html>
